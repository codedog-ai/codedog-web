---
title: Codedog
navigation: false
layout: page
main:
  fluid: false
---

:ellipsis{right=0px width=75% blur=150px}

::block-hero
---
cta:
  - Getting Started
  - /documentation/getting-started
secondary:
  - Community →
  - /community
---

#title
你的AI Code Review伙伴

#description
Codedog use [OpenAI GPT](https://www.openai.com) to give suggestions to your pull requests. To make your daily code review more available, comfortable and efficient.

#extra
  ::list
  - Briefly summarize the change files.
  - Seperate housekeeping changes from wasting your time.
  - Support [Github](https://www.github.com)
  - Start in 5 minutes.
  - Used in **Cloudwise**
  ::


::



## 试用Codedog :badge[v0.0.2 Alpha]

在你的Github项目中添加Pull Request Webhook:
```plain
https://api.codedog.ai/api/v1/github
```

## Review效果

#TODO: use some famous PR as example.

::code-group

::code-block{label="Preview" preview}
# PR审查

*powered by GPT3.5-Turbo and CodeDog 0.0.2a1*

### 执行记录

- 开始时间: 2023-05-10 16:28:06
- 审查耗时: 87秒
- 审查文件数量: 8 (跳过0)
- OPENAI API TOKEN数量: 8670 (约$0.0173)

### PR概要

此次PR实现了GitHub适配器，可以接收GitHub事件#5，并解析PR信息构建PullRequest对象。同时对一些变量名进行维护性修改。

**主要变动**

1. [codedog/github_adapter.py](https://github.com/Arcadia822/codedog/blob/e73756dd2cb4c098c3cf4118562c0487b3c2a958/codedog%2Fgithub_adapter.py)

新增github_adapter.py文件，包含handle_github_event函数，用于解析GitHub的webhook事件，获取PR信息并构建PullRequest对象。同时，添加了一些代码review函数。


2. [example/github-merge-event.json](https://github.com/Arcadia822/codedog/blob/e73756dd2cb4c098c3cf4118562c0487b3c2a958/example%2Fgithub-merge-event.json)

该diff为添加了一个新的pull request，包含了pull request的详细信息和一些metadata，其中包括url、id、state、title、body、labels、created_at等。

**次要变动**

1. [codedog/gitlab_adapter.py](https://github.com/Arcadia822/codedog/blob/e73756dd2cb4c098c3cf4118562c0487b3c2a958/codedog%2Fgitlab_adapter.py)

将变量名project_id改为repository_id


2. [codedog/model.py](https://github.com/Arcadia822/codedog/blob/e73756dd2cb4c098c3cf4118562c0487b3c2a958/codedog%2Fmodel.py)

修改PullRequest和Change模型中的project_id为repository_id


3. [codedog/review.py](https://github.com/Arcadia822/codedog/blob/e73756dd2cb4c098c3cf4118562c0487b3c2a958/codedog%2Freview.py)

在codedog/review.py中增加一个TODO注释，并修改了_summarize_pr函数中的代码


4. [example/github_review.py](https://github.com/Arcadia822/codedog/blob/e73756dd2cb4c098c3cf4118562c0487b3c2a958/example%2Fgithub_review.py)

添加了一段cloudwise gitlab的示例代码，处理了一个pull request的事件


5. [example/gitlab_review.py](https://github.com/Arcadia822/codedog/blob/e73756dd2cb4c098c3cf4118562c0487b3c2a958/example%2Fgitlab_review.py)

将文件中的project_id改为repository_id，以及修改注释内容


6. [example/gitlab_webhook.py](https://github.com/Arcadia822/codedog/blob/e73756dd2cb4c098c3cf4118562c0487b3c2a958/example%2Fgitlab_webhook.py)

修改变量名project_id为repository_id


### PR改进建议

1. 在handle_github_event函数中，需要添加异常处理机制，避免因为解析错误的webhook事件导致整个应用崩溃。 (github_adapter.py)
2. 在PullRequest类中，需要添加对于PR状态的判断，避免处理已经被合并或者关闭的PR。 (model.py, review.py, github_review.py)
3. 建议添加单元测试，覆盖新增的函数和类。 (无相关文件)
::



```markdown [Markdown]
## PR审查

*powered by GPT3.5-Turbo and CodeDog 0.0.2a1*

### 执行记录
- 开始时间: 2023-05-10 16:28:06
- 审查耗时: 87秒
- 审查文件数量: 8 (跳过0)
- OPENAI API TOKEN数量: 8670 (约$0.0173)

### PR概要

此次PR实现了GitHub适配器，可以接收GitHub事件#5，并解析PR信息构建PullRequest对象。同时对一些变量名进行维护性修改。

**主要变动**

1. [codedog/github_adapter.py](https://github.com/Arcadia822/codedog/blob/e73756dd2cb4c098c3cf4118562c0487b3c2a958/codedog%2Fgithub_adapter.py)

新增github_adapter.py文件，包含handle_github_event函数，用于解析GitHub的webhook事件，获取PR信息并构建PullRequest对象。同时，添加了一些代码review函数。


2. [example/github-merge-event.json](https://github.com/Arcadia822/codedog/blob/e73756dd2cb4c098c3cf4118562c0487b3c2a958/example%2Fgithub-merge-event.json)

该diff为添加了一个新的pull request，包含了pull request的详细信息和一些metadata，其中包括url、id、state、title、body、labels、created_at等。

**次要变动**

1. [codedog/gitlab_adapter.py](https://github.com/Arcadia822/codedog/blob/e73756dd2cb4c098c3cf4118562c0487b3c2a958/codedog%2Fgitlab_adapter.py)

将变量名project_id改为repository_id


2. [codedog/model.py](https://github.com/Arcadia822/codedog/blob/e73756dd2cb4c098c3cf4118562c0487b3c2a958/codedog%2Fmodel.py)

修改PullRequest和Change模型中的project_id为repository_id


3. [codedog/review.py](https://github.com/Arcadia822/codedog/blob/e73756dd2cb4c098c3cf4118562c0487b3c2a958/codedog%2Freview.py)

在codedog/review.py中增加一个TODO注释，并修改了_summarize_pr函数中的代码


4. [example/github_review.py](https://github.com/Arcadia822/codedog/blob/e73756dd2cb4c098c3cf4118562c0487b3c2a958/example%2Fgithub_review.py)

添加了一段cloudwise gitlab的示例代码，处理了一个pull request的事件


5. [example/gitlab_review.py](https://github.com/Arcadia822/codedog/blob/e73756dd2cb4c098c3cf4118562c0487b3c2a958/example%2Fgitlab_review.py)

将文件中的project_id改为repository_id，以及修改注释内容


6. [example/gitlab_webhook.py](https://github.com/Arcadia822/codedog/blob/e73756dd2cb4c098c3cf4118562c0487b3c2a958/example%2Fgitlab_webhook.py)

修改变量名project_id为repository_id


### PR改进建议

1. 在handle_github_event函数中，需要添加异常处理机制，避免因为解析错误的webhook事件导致整个应用崩溃。 (github_adapter.py)
2. 在PullRequest类中，需要添加对于PR状态的判断，避免处理已经被合并或者关闭的PR。 (model.py, review.py, github_review.py)
3. 建议添加单元测试，覆盖新增的函数和类。 (无相关文件)
```
::
